doctype html
// Mirrored from pages.revox.io/dashboard/4.1.0/html/condensed/blank_template.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Apr 2019 07:20:43 GMT
head
  meta(http-equiv='content-type' content='text/html;charset=UTF-8')
  meta(charset='utf-8')
  title Pages - Admin Dashboard UI Kit - Blank Page
  meta(name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no')
  script(src='../../../../cdn-cgi/apps/head/QJpHOqznaMvNOv9CGoAdo_yvYKU.js')
  link(rel='apple-touch-icon' href='/pages/ico/60.png')
  link(rel='apple-touch-icon' sizes='76x76' href='/pages/ico/76.png')
  link(rel='apple-touch-icon' sizes='120x120' href='/pages/ico/120.png')
  link(rel='apple-touch-icon' sizes='152x152' href='/pages/ico/152.png')
  link(rel='icon' type='image/x-icon' href='favicon.ico')
  meta(name='apple-mobile-web-app-capable' content='yes')
  meta(name='apple-touch-fullscreen' content='yes')
  meta(name='apple-mobile-web-app-status-bar-style' content='default')
  meta(content='' name='description')
  meta(content='' name='author')
  link(href='/assets/plugins/pace/pace-theme-flash.css' rel='stylesheet' type='text/css')
  link(href='/assets/plugins/bootstrap/css/bootstrap.min.css' rel='stylesheet' type='text/css')
  link(href='/assets/plugins/font-awesome/css/font-awesome.css' rel='stylesheet' type='text/css')
  link(href='/assets/plugins/jquery-scrollbar/jquery.scrollbar.css' rel='stylesheet' type='text/css' media='screen')
  link(href='/assets/plugins/select2/css/select2.min.css' rel='stylesheet' type='text/css' media='screen')
  link(href='/assets/plugins/switchery/css/switchery.min.css' rel='stylesheet' type='text/css' media='screen')
  link(href='/pages/css/pages-icons.css' rel='stylesheet' type='text/css')
  link.main-stylesheet(href='/pages/css/pages.css' rel='stylesheet' type='text/css')
nav.page-sidebar(data-pages='sidebar')
  #appMenu.sidebar-overlay-slide.from-top
    .row
      .col-xs-6.no-padding
        a.p-l-40(href='#')
          img(src='/assets/img/demo/social_app.svg' alt='socail')
      .col-xs-6.no-padding
        a.p-l-10(href='#')
          img(src='/assets/img/demo/email_app.svg' alt='socail')
    .row
      .col-xs-6.m-t-20.no-padding
        a.p-l-40(href='#')
          img(src='/assets/img/demo/calendar_app.svg' alt='socail')
      .col-xs-6.m-t-20.no-padding
        a.p-l-10(href='#')
          img(src='/assets/img/demo/add_more.svg' alt='socail')
  .sidebar-header
    strong IDEATION EMAIL APPLICATION
   
  .sidebar-menu
    ul.menu-items
      li.m-t-30
        a.detailed(href='/index')
          span.title Recipients
        span.bg-success.icon-thumbnail
          i.pg-home
      li
        a.detailed(href='/index/email')
          span.title E-mail
        span.icon-thumbnail
          i.pg-mail
      
    .clearfix
.page-container
  .header
    a.btn-link.toggle-sidebar.d-lg-none.pg.pg-menu(href='#' data-toggle='sidebar')
    div
      .brand.inline
        strong IDEATION EMAIL APPLICATION
      ul.d-lg-inline-block.d-none.notification-list.no-margin.d-lg-inline-block.b-grey.b-l.b-r.no-style.p-l-30.p-r-20
        li.p-r-10.inline
          .dropdown
            a#notification-center.header-icon.pg.pg-world(href='javascript:;' data-toggle='dropdown')
              span.bubble
            .dropdown-menu.notification-toggle(role='menu' aria-labelledby='notification-center')
              .notification-panel
                .notification-body.scrollable
                  .notification-item.unread.clearfix
                    .heading.open
                      a.text-complete.pull-left(href='#')
                        i.pg-map.fs-16.m-r-10
                        span.bold Carrot Design
                        span.fs-12.m-l-10 David Nester
                      .pull-right
                        .thumbnail-wrapper.d16.circular.inline.m-t-15.m-r-10.toggle-more-details
                          div
                            i.fa.fa-angle-left
                        span.time few sec ago
                      .more-details
                        .more-details-inner
                          h5.semi-bold.fs-16
                            | &ldquo;Apple&rsquo;s Motivation - Innovation 
                            br
                            | distinguishes between 
                            br
                            | A leader and a follower.&rdquo;
                          p.small.hint-text
                            | Commented on john Smiths wall.
                            br
                            |  via pages framework.
                    .option(data-toggle='tooltip' data-placement='left' title='mark as read')
                      a.mark(href='#')
                  .notification-item.clearfix
                    .heading
                      a.text-danger.pull-left(href='#')
                        i.fa.fa-exclamation-triangle.m-r-10
                        span.bold 98% Server Load
                        span.fs-12.m-l-10 Take Action
                      span.pull-right.time 2 mins ago
                    .option
                      a.mark(href='#')
                  .notification-item.clearfix
                    .heading
                      a.text-warning-dark.pull-left(href='#')
                        i.fa.fa-exclamation-triangle.m-r-10
                        span.bold Warning Notification
                        span.fs-12.m-l-10 Buy Now
                      span.pull-right.time yesterday
                    .option
                      a.mark(href='#')
                  .notification-item.unread.clearfix
                    .heading
                      .thumbnail-wrapper.d24.circular.b-white.m-r-5.b-a.b-white.m-t-10.m-r-10
                        img(width='30' height='30' data-src-retina='/assets/img/profiles/1x.jpg' data-src='/assets/img/profiles/1.jpg' alt='' src='/assets/img/profiles/1.jpg')
                      a.text-complete.pull-left(href='#')
                        span.bold Revox Design Labs
                        span.fs-12.m-l-10 Owners
                      span.pull-right.time 11:00pm
                    .option(data-toggle='tooltip' data-placement='left' title='mark as read')
                      a.mark(href='#')
                .notification-footer.text-center
                  a(href='#') Read all notifications
                  a.portlet-refresh.text-black.pull-right(data-toggle='refresh' href='#')
                    i.pg-refresh_new
        li.p-r-10.inline
          a.header-icon.pg.pg-link(href='#')
        li.p-r-10.inline
          a.header-icon.pg.pg-thumbs(href='#')
      a.search-link.d-lg-inline-block.d-none(href='#' data-toggle='search')
        i.pg-search
        | Type anywhere to 
        span.bold search
    .d-flex.align-items-center
      .pull-left.p-r-10.fs-14.font-heading.d-lg-block.d-none
        span.semi-bold David
        span.text-master Nest
            |  Feedback
      .dropdown.pull-right.d-lg-block.d-none
        button.profile-dropdown-toggle(type='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
          span.thumbnail-wrapper.d32.circular.inline
            img(src='/assets/img/profiles/avatar.jpg' alt='' data-src='/assets/img/profiles/avatar.jpg' data-src-retina='/assets/img/profiles/avatar_small2x.jpg' width='32' height='32')
        .dropdown-menu.dropdown-menu-right.profile-dropdown(role='menu')
          a.dropdown-item(href='#')
            i.pg-settings_small
            |  Settings
          a.dropdown-item(href='#')
            i.pg-outdent
          a.dropdown-item(href='#')
            i.pg-signals
            |  Help
          a.clearfix.bg-master-lighter.dropdown-item(href='#')
            span.pull-left Logout
            span.pull-right
              i.pg-power
      a.header-icon.pg.pg-alt_menu.btn-link.m-l-10.sm-no-margin.d-inline-block(href='#' data-toggle='quickview' data-toggle-element='#quickview')
  .page-content-wrapper
    .content
      #addNewAppModal.modal.fade.stick-up(tabindex='-1' role='dialog' aria-labelledby='addNewAppModal' aria-hidden='true')
        .modal-dialog
          .modal-content
            .modal-header.clearfix
              button.close(type='button' data-dismiss='modal' aria-hidden='true')
                i.pg-close.fs-14
              h4.p-b-5
                span.semi-bold New
                |  Recipient
            .modal-body
              p.small-text Add a new recipient. Make sure you fill-out all the fields needed.
              form(role='form')
                .row
                  .col-sm-12
                    .form-group.form-group-default
                      label Full Name
                        span(style='color: red') *
                      input#name.form-control(type='text' placeholder='E.g. Juan dela Cruz')
                .row
                  .col-sm-12
                    .form-group.form-group-default
                      label E-mail Address
                        span(style='color: red') *
                      input#email.form-control(type='email' placeholder='E.g. jdlc@gmail.com')
            .modal-footer
              button#add-app.btn.btn-primary.btn-cons(type='button') Add
              button.btn.btn-cons(type='button' data-dismiss='modal') Close
      .jumbotron(data-pages='parallax')
        .container-fluid.container-fixed-lg.sm-p-l-0.sm-p-r-0
          .inner
            ol.breadcrumb
              li.breadcrumb-item
                a(href='#') Ideation
              li.breadcrumb-item.active Recipients
    .container-fluid.container-fixed-lg
      .card.card-transparent
        .card-header
          .card-title
            | Recipient Table
          .pull-right
            .col-xs-12
              button#show-modal.btn.btn-primary.btn-cons
                i.fa.fa-plus
                |  Add a recipient
          .clearfix
        .card-body
          table#infoTable.table.table-hover.demo-table-dynamic.table-responsive-block
            thead
              tr
                th Full Name
                th E-mail Address
                th Action
            tbody
              
script(src='/assets/plugins/pace/pace.min.js' type='text/javascript')
script(src='/assets/plugins/jquery/jquery-3.2.1.min.js' type='text/javascript')
script(src='/assets/plugins/modernizr.custom.js' type='text/javascript')
script(src='/assets/plugins/jquery-ui/jquery-ui.min.js' type='text/javascript')
script(src='/assets/plugins/popper/umd/popper.min.js' type='text/javascript')
script(src='/assets/plugins/bootstrap/js/bootstrap.min.js' type='text/javascript')
script(src='/assets/plugins/jquery/jquery-easy.js' type='text/javascript')
script(src='/assets/plugins/jquery-unveil/jquery.unveil.min.js' type='text/javascript')
script(src='/assets/plugins/jquery-ios-list/jquery.ioslist.min.js' type='text/javascript')
script(src='/assets/plugins/jquery-actual/jquery.actual.min.js')
script(src='/assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js')
script(type='text/javascript' src='/assets/plugins/select2/js/select2.full.min.js')
script(type='text/javascript' src='/assets/plugins/classie/classie.js')
script(src='/assets/plugins/switchery/js/switchery.min.js' type='text/javascript')
script(src='/assets/plugins/jquery-datatable/media/js/jquery.dataTables.min.js' type='text/javascript')
script(src='/assets/plugins/jquery-datatable/extensions/TableTools/js/dataTables.tableTools.min.js' type='text/javascript')
script(src='/assets/plugins/jquery-datatable/media/js/dataTables.bootstrap.js' type='text/javascript')
script(src='/assets/plugins/jquery-datatable/extensions/Bootstrap/jquery-datatable-bootstrap.js' type='text/javascript')
script(type='text/javascript' src='/assets/plugins/datatables-responsive/js/datatables.responsive.js')
script(type='text/javascript' src='/assets/plugins/datatables-responsive/js/lodash.min.js')
script(src='/pages/js/pages.js')
script(src='/assets/js/scripts.js' type='text/javascript')
script(src='/assets/js/datatables.js' type='text/javascript')
script(src='/assets/js/scripts.js' type='text/javascript')
script.
  $(document).ready(function(){


    var table = $('#infoTable');
    var settings = {
        "sDom": "<t><'row'<p i>>",
        "destroy": true,
        "scrollCollapse": true,
        "oLanguage": {
            "sLengthMenu": "_MENU_ ",
            "sInfo": "Showing <b>_START_ to _END_</b> of _TOTAL_ entries"
        },
        "iDisplayLength": 5
    };
    table.dataTable(settings);
    $('#show-modal').click(function() {
        $('#addNewAppModal').modal('show');
    });
    $('#add-app').click(function() {
        
        $.post('/index/recipient/add', {
          name: $("#name").val(), 
          email: $("#email").val(),
        }).then(function(data){
          var name = $("#name").val();
          $.when(table.dataTable().fnAddData([`<span class='name' docID=${data.docID}>${name}</span>`, $("#email").val(), `<button type="button" class="btn btn-danger trash"><i class="fa fa-trash-o"></i></button>`])).then(function(){
            $('#addNewAppModal').find('input').val('');
          })
        })
        $('#addNewAppModal').modal('hide');
    });
    var recipients = !{JSON.stringify(recipients)}

    for(var i = 0; i < recipients.length; i++){
        table.dataTable().fnAddData([`<span class='name' docID=${recipients[i].id}>${recipients[i].fullname}</span>`, recipients[i].emailaddress, `<button type="button" class="btn btn-danger trash"><i class="fa fa-trash-o"></i></button>`]);
    }

    $(document).on('click', '.trash', function(){
      var table = $('#infoTable').DataTable();
      var docID = $(this).parents('tr').find('.name').attr('docID');
      var $this = $(this);
      $.post('/index/delete', {
        docID: docID,
      }).then(function(data){
        if(data == 'success'){
          alert('Deleted Successfully');

          table
            .row( $this.parents('tr') )
            .remove()
            .draw();
        }
        else{
          alert('Error Deleting');
        }
      })
    })
  })
